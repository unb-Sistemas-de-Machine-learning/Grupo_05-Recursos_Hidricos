/* /src/css/globals/social-floating.css
   FAB de redes sociais — fixo embaixo, opções sobem
   Com tema dark (glass), responsivo e “auto-hide on scroll” */

/* ─────────────────────────────────────────────── */
/* Variáveis principais                            */
/* ─────────────────────────────────────────────── */
:root {
  /* posição e tamanho (desktop) */
  --sf-left: 56px;         /* distância da esquerda */
  --sf-bottom: 36px;       /* distância da base da tela */
  --sf-size: 66px;         /* tamanho do botão principal */
  --sf-icon: 26px;
  --sf-item-size: 56px;
  --sf-item-icon: 22px;

  /* tema claro */
  --sf-bg: #ffffff;
  --sf-fg: #111827;
  --sf-border: rgba(0,0,0,.06);
  --sf-shadow: 0 18px 45px -18px rgba(0,0,0,.38),
               0 10px 22px -14px rgba(0,0,0,.24);
  --sf-item-shadow: 0 14px 36px -16px rgba(0,0,0,.28),
                    0 8px 18px -12px rgba(0,0,0,.18);
  --sf-glow: none;
}

/* tema dark */
:root.dark {
  --sf-bg: rgba(15, 23, 42, .88);     /* vidro escuro */
  --sf-fg: #e5e7eb;
  --sf-border: rgba(255,255,255,.10);
  --sf-shadow: 0 22px 46px -22px rgba(0,0,0,.65),
               0 10px 26px -16px rgba(0,0,0,.5);
  --sf-item-shadow: 0 18px 42px -22px rgba(0,0,0,.6),
                    0 10px 20px -16px rgba(0,0,0,.45);
  --sf-glow: 0 0 0 6px rgba(107,170,201,.08),
             0 0 38px 0 rgba(107,170,201,.22);
}

/* MOBILE – reduzir tamanhos e respeitar safe-area */
@media (max-width: 640px){
  :root{
    --sf-left: 18px;             /* mais encostado */
    --sf-bottom: 18px;           /* sobe um pouco */
    --sf-size: 54px;             /* FAB menor */
    --sf-icon: 22px;
    --sf-item-size: 48px;        /* itens menores */
    --sf-item-icon: 20px;
  }
}

/* iOS safe area (evita sobrepor barra do sistema) */
@supports (padding: max(0px)) {
  .ap-social{
    /* adiciona a safe area na base */
    margin-bottom: max(0px, env(safe-area-inset-bottom));
  }
}

/* ─────────────────────────────────────────────── */
/* Container fixo                                  */
/* ─────────────────────────────────────────────── */
.ap-social {
  position: fixed;
  z-index: 70;
  inset-inline-start: var(--sf-left);
  inset-block-end: var(--sf-bottom);
  display: flex;
  flex-direction: column; /* FAB embaixo, opções sobem */
  align-items: center;
  gap: 12px;
  pointer-events: none;
  transition: opacity .22s ease, transform .22s ease;
}

/* auto-hide on scroll */
.ap-social.is-hidden{
  opacity: 0;
  transform: translateY(8px);
}

/* pilha (ícones das redes) */
.ap-social__stack {
  display: flex;
  flex-direction: column-reverse; /* ordem de baixo pra cima */
  gap: 12px;
  transform: translateY(6px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease, transform .25s ease;
}

/* ao abrir: aparece acima do FAB */
.ap-social.is-open .ap-social__stack {
  transform: translateY(-6px);
  opacity: 1;
  pointer-events: auto;
}

/* ─────────────────────────────────────────────── */
/* Botão principal (FAB)                           */
/* ─────────────────────────────────────────────── */
.ap-social__fab {
  width: var(--sf-size);
  height: var(--sf-size);
  border-radius: 9999px;
  display: grid;
  place-items: center;
  background: var(--sf-bg);
  color: var(--sf-fg);
  border: 1px solid var(--sf-border);
  box-shadow: var(--sf-shadow), var(--sf-glow);
  backdrop-filter: saturate(120%) blur(6px);
  -webkit-backdrop-filter: saturate(120%) blur(6px);
  pointer-events: auto;
  transition: transform .18s ease, filter .2s ease, background .2s ease, box-shadow .25s ease;
}
.ap-social__fab:hover { transform: translateY(-2px); filter: brightness(1.05); }
.ap-social__fab:active { transform: translateY(0); }

.ap-social__fab svg {
  width: var(--sf-icon);
  height: var(--sf-icon);
  opacity: .95;
}

/* twist suave quando aberto */
.ap-social.is-open .ap-social__fab {
  transform: rotate(-8deg);
}

/* ─────────────────────────────────────────────── */
/* Itens das redes sociais                         */
/* ─────────────────────────────────────────────── */
.ap-social__item {
  width: var(--sf-item-size);
  height: var(--sf-item-size);
  border-radius: 9999px;
  display: grid;
  place-items: center;
  background: var(--sf-bg);
  color: var(--sf-fg);
  border: 1px solid var(--sf-border);
  box-shadow: var(--sf-item-shadow);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  transition: transform .15s ease, filter .2s ease, opacity .25s ease, background .2s ease;
  opacity: 0;
  transform: translateY(10px); /* parte de baixo e sobe */
}
.ap-social__item.show {
  opacity: 1;
  transform: translateY(0);
}
.ap-social__item:hover {
  transform: translateY(-2px) scale(1.03);
  filter: brightness(1.05);
}
.ap-social__item svg {
  width: var(--sf-item-icon);
  height: var(--sf-item-icon);
  opacity: .95;
}

/* ─────────────────────────────────────────────── */
/* Estados e acessibilidade                        */
/* ─────────────────────────────────────────────── */
#social-copy.copied {
  box-shadow: 0 0 0 3px rgba(107,170,201,.35), var(--sf-item-shadow);
}

.ap-social__fab:focus-visible,
.ap-social__item:focus-visible {
  outline: 2px solid #6BAAC9;
  outline-offset: 3px;
  border-radius: 9999px;
}

/* ─────────────────────────────────────────────── */
/* Cores de marca dos ícones (SVG inline)          */
/* ─────────────────────────────────────────────── */
.ap-social__item--linkedin svg   { color: #0A66C2; }
.ap-social__item--twitter  svg   { color: #1D9BF0; }
.ap-social__item--telegram svg   { color: #229ED9; }
.ap-social__item--reddit   svg   { color: #FF4500; }
.ap-social__item--quora    svg   { color: #B92B27; }
.ap-social__item--whatsapp svg   { color: #25D366; }
.ap-social__item--line     svg   { color: #06C755; }
.ap-social__item--pinterest svg  { color: #E60023; }

:root.dark .ap-social__item svg {
  filter: drop-shadow(0 0 6px rgba(107,170,201,.18));
}

/* ===================== Visibilidade no Dark Mode (X e Copiar) ===================== */

/* Ícone do X (Twitter) – forçar fill claro apenas no dark */
.dark #social-floating a[aria-label="X (Twitter)"] svg path {
  fill: #ffffff !important;
}

/* Ícone de copiar link – forçar stroke claro apenas no dark */
.dark #social-floating #social-copy svg path {
  stroke: #ffffff !important;
}

/* Opcional: leve melhoria de contraste do “chip” no dark ao passar o mouse */
.dark #social-floating .ap-social__item:hover {
  box-shadow: 0 0 0 2px rgba(255,255,255,.12) inset;
}
