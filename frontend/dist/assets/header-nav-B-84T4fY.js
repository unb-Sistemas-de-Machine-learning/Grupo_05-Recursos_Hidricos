const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./main-Dd-yUimy.js","./main-zkW5csLT.css"])))=>i.map(i=>d[i]);
import{_ as b}from"./main-Dd-yUimy.js";const v="aguaprev_theme",L=()=>{var t;return(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-color-scheme: dark)").matches},E=()=>localStorage.getItem(v);function f(t){const e=document.documentElement;t==="dark"||t==null&&L()?e.classList.add("dark"):e.classList.remove("dark")}function k(){const t=E(),e=t?t==="dark"?"light":"dark":L()?"light":"dark";localStorage.setItem(v,e),f(e)}let o={applyTranslations:()=>{},startI18nObserver:()=>{},getLanguage:()=>"pt-BR",setLanguage:()=>{}};function m(t){document.body.style.overflow=t?"hidden":""}function p(t,e,n){function a(r){!e.contains(r.target)&&!t.contains(r.target)&&(n(),document.removeEventListener("mousedown",a))}document.addEventListener("mousedown",a)}function y(){const t=document.getElementById("site-header"),e=document.querySelector("[data-header-shell]"),n=document.getElementById("header-spacer");if(!t||!e||!n)return;const a=e.getBoundingClientRect(),r=parseFloat(getComputedStyle(t).top||"0")||0,s=Math.ceil(a.height+r+8);document.documentElement.style.setProperty("--header-spacer",s+"px")}function h(){const t=document.querySelector("[data-header-shell]");if(!t)return;const e=window.scrollY||document.documentElement.scrollTop||0;t.style.boxShadow=e>4?"0 10px 24px rgba(0,0,0,0.12)":""}function S(){var i;const t=document.getElementById("menu-toggle"),e=document.getElementById("menu-overlay"),n=document.getElementById("menu-close");if(!t||!e||!n)return;const a=e.querySelector("[data-overlay-panel]");function r(){e.classList.remove("hidden"),t.setAttribute("aria-expanded","true"),m(!0),e.style.opacity="0",requestAnimationFrame(()=>{e.style.transition="opacity 220ms ease",e.style.opacity="1",a==null||a.setAttribute("tabindex","-1"),a==null||a.focus()});function c(l){l.key==="Escape"&&(s(),document.removeEventListener("keydown",c))}document.addEventListener("keydown",c)}function s(){e.style.opacity="1",e.style.transition="opacity 180ms ease",e.style.opacity="0",setTimeout(()=>{e.classList.add("hidden"),t.setAttribute("aria-expanded","false"),m(!1)},180),t.focus()}t.addEventListener("click",r),n.addEventListener("click",s),e.addEventListener("click",c=>{c.target===e&&s()}),e.querySelectorAll("a[href]").forEach(c=>c.addEventListener("click",s)),(i=document.getElementById("theme-toggle-overlay"))==null||i.addEventListener("click",k)}function w(t=document){const e=t.querySelector("#lang-compact"),n=t.querySelector("#lang-compact-menu"),a=e==null?void 0:e.querySelector('[data-i18n="Header.cta_lang"]');if(e&&n){const c=()=>{if(a){const d=o.getLanguage();a.textContent=d==="en"?"EN":d==="es"?"ES":"PT-BR"}},l=()=>{n.classList.remove("hidden"),p(e,n,u),e.setAttribute("aria-expanded","true")},u=()=>{n.classList.add("hidden"),e.setAttribute("aria-expanded","false")};c(),e.addEventListener("click",()=>n.classList.contains("hidden")?l():u()),n.querySelectorAll("[data-lang]").forEach(d=>d.addEventListener("click",()=>{o.setLanguage(d.getAttribute("data-lang")),o.applyTranslations(document),c(),u()}))}const r=t.querySelector("#lang-dropdown"),s=t.querySelector("#menu-overlay #lang-menu"),i=t.querySelector("#lang-current");if(r&&s&&i){const c={"pt-BR":"Português (BR)",en:"English",es:"Español"},l=()=>{i.textContent=c[o.getLanguage()]||"Português (BR)"},u=()=>{s.classList.remove("hidden"),p(r,s,d),r.setAttribute("aria-expanded","true")},d=()=>{s.classList.add("hidden"),r.setAttribute("aria-expanded","false")};l(),r.addEventListener("click",()=>s.classList.contains("hidden")?u():d()),s.querySelectorAll("[data-lang]").forEach(g=>g.addEventListener("click",()=>{o.setLanguage(g.getAttribute("data-lang")),o.applyTranslations(document),l(),d()}))}}async function T(){var t;f(E());try{const e=await b(()=>import("./main-Dd-yUimy.js").then(n=>n.i),__vite__mapDeps([0,1]),import.meta.url);o={applyTranslations:e.applyTranslations??o.applyTranslations,startI18nObserver:e.startI18nObserver??o.startI18nObserver,getLanguage:e.getLanguage??o.getLanguage,setLanguage:e.setLanguage??o.setLanguage},o.applyTranslations(document),o.startI18nObserver()}catch{}y(),h(),window.addEventListener("resize",y,{passive:!0}),window.addEventListener("scroll",h,{passive:!0}),w(document),S(),(t=document.getElementById("theme-toggle"))==null||t.addEventListener("click",k)}export{T as initHeaderNav};
