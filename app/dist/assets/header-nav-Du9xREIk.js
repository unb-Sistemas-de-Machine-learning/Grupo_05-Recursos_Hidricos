(function(){const n=document.querySelector("[data-header-root]"),f=document.documentElement;if(!n)return;const w=n.querySelectorAll("[data-theme-toggle]"),r=n.querySelector("[data-icon-sun]"),l=n.querySelector("[data-icon-moon]"),h=window.matchMedia("(prefers-color-scheme: dark)");function s(e){const t=e==="dark";f.classList.toggle("dark",t),r==null||r.classList.toggle("hidden",t),l==null||l.classList.toggle("hidden",!t)}s(localStorage.getItem("theme")??(h.matches?"dark":"light")),w.forEach(e=>e.addEventListener("click",()=>{const t=f.classList.contains("dark")?"light":"dark";s(t),localStorage.setItem("theme",t)})),h.addEventListener("change",e=>{localStorage.getItem("theme")||s(e.matches?"dark":"light")});const d=n.querySelector("[data-nav-toggle]"),E=n.querySelectorAll("[data-nav-close]");let o=n.querySelector("[data-menu]");const y=n.querySelector("[data-menu-drawer]"),g=n.querySelector("[data-menu-modal]");if(!d||!o||!y||!g)return;document.body.appendChild(o);let c=null,i=0;const L=()=>window.matchMedia("(min-width:1024px)").matches;function b(){i=window.scrollY||document.documentElement.scrollTop,document.body.style.top=`-${i}px`,document.body.classList.add("overflow-hidden","fixed"),document.body.style.width="100%"}function S(){document.body.classList.remove("overflow-hidden","fixed"),document.body.style.top="",document.body.style.width="",window.scrollTo(0,i)}function u(e){return Array.from(e.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])')).filter(t=>!t.hasAttribute("disabled")&&t.offsetParent!==null)}function m(){return L()?g:y}function x(){var e,t;c=document.activeElement,o.classList.add("is-open"),d.setAttribute("aria-expanded","true"),b(),(t=(e=u(m())[0])==null?void 0:e.focus)==null||t.call(e),document.addEventListener("keydown",p)}function a(){var e;o.classList.remove("is-open"),d.setAttribute("aria-expanded","false"),S(),(e=c==null?void 0:c.focus)==null||e.call(c),document.removeEventListener("keydown",p)}function p(e){if(e.key==="Escape")return a();if(e.key==="Tab"){const t=u(m());if(!t.length)return;const v=t[0],k=t[t.length-1];e.shiftKey&&document.activeElement===v?(e.preventDefault(),k.focus()):!e.shiftKey&&document.activeElement===k&&(e.preventDefault(),v.focus())}}d.addEventListener("click",()=>{d.getAttribute("aria-expanded")==="true"?a():x()}),E.forEach(e=>e.addEventListener("click",a)),o.addEventListener("click",e=>{e.target===o&&a()}),o.querySelectorAll("a").forEach(e=>e.addEventListener("click",a)),window.addEventListener("resize",()=>{var e,t;o.classList.contains("is-open")&&((t=(e=u(m())[0])==null?void 0:e.focus)==null||t.call(e))})})();
