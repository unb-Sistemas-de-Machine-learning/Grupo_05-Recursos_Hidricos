<!-- /src/partials/home/section-how-it-works.html -->
<section id="how" class="w-full">
  <div class="w-full max-w-[1358px] mx-auto px-5 sm:px-6 lg:px-10 py-12">
    <h2 class="text-2xl sm:text-3xl font-extrabold tracking-tight text-[#031E21] dark:text-white" data-i18n="How.title">
      Como funciona
    </h2>
    <p class="mt-1 text-gray-600 dark:text-gray-300 text-sm max-w-prose" data-i18n="How.subtitle">
      Pipeline simplificado (mock): coleta diária, processamento por modelos e entrega no dashboard.
    </p>

    <!-- items-start evita esticar; cada card fica com sua própria altura -->
    <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 items-start">
      <!-- etapa 1 -->
      <article
        class="self-start group rounded-3xl border border-black/5 dark:border-white/10 bg-white/60 dark:bg-white/5 backdrop-blur p-5
               cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
        data-step>
        <div class="h-10 w-10 rounded-xl flex items-center justify-center bg-[#0A5C67]/10 text-[#0A5C67] dark:bg-white/10 dark:text-white mb-3">
          <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18"/><path d="M12 3v18"/></svg>
        </div>
        <h3 class="text-lg font-semibold text-[#031E21] dark:text-white" data-i18n="How.s1_title">Coleta</h3>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-300" data-i18n="How.s1_desc">
          Integra dados ANA, INMET e Adasa; normaliza e valida diariamente.
        </p>
        <div data-step-extra class="mt-3 text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
          Dados são agregados automaticamente, tratados e armazenados antes de processar as previsões.
        </div>
      </article>

      <!-- etapa 2 -->
      <article
        class="self-start group rounded-3xl border border-black/5 dark:border-white/10 bg-white/60 dark:bg-white/5 backdrop-blur p-5
               cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
        data-step>
        <div class="h-10 w-10 rounded-xl flex items-center justify-center bg-[#0A5C67]/10 text-[#0A5C67] dark:bg-white/10 dark:text-white mb-3">
          <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/><path d="M12 8v4l3 3"/></svg>
        </div>
        <h3 class="text-lg font-semibold text-[#031E21] dark:text-white" data-i18n="How.s2_title">Modelagem</h3>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-300" data-i18n="How.s2_desc">
          Gera previsões 7/14 dias para nível, precipitação e vazão — com métricas de confiança.
        </p>
        <div data-step-extra class="mt-3 text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
          Modelos hidrológicos e ML calibrados para as bacias do DF simulam tendências e incertezas.
        </div>
      </article>

      <!-- etapa 3 -->
      <article
        class="self-start group rounded-3xl border border-black/5 dark:border-white/10 bg-white/60 dark:bg-white/5 backdrop-blur p-5
               cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
        data-step>
        <div class="h-10 w-10 rounded-xl flex items-center justify-center bg-[#0A5C67]/10 text-[#0A5C67] dark:bg-white/10 dark:text-white mb-3">
          <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18M9 5l7 7-7 7"/></svg>
        </div>
        <h3 class="text-lg font-semibold text-[#031E21] dark:text-white" data-i18n="How.s3_title">Entrega</h3>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-300" data-i18n="How.s3_desc">
          Disponibiliza no dashboard, API e alertas (mock) para gestores e cidadãos.
        </p>
        <div data-step-extra class="mt-3 text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
          Publicação diária no dashboard do AguaPrev e disparo de alertas programados (mock).
        </div>
      </article>
    </div>
  </div>
</section>
